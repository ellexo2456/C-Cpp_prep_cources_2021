TARGET = ./main.out
HDRS_DIR = project/include

SRCS = \
	project/src/main.c\
	project/src/master_write.c \
	project/src/update_black_record.c \
	project/src/transaction_write.c 

OBJS = $(SRCS:.c=.o)

.PHONY: all check test clean

all: clean check test

$(TARGET): $(SRCS) 
	$(CC) -Wpedantic -Wall -Wextra -Werror -I $(HDRS_DIR) -o $(TARGET) $(CFLAGS) $(SRCS)

check:
	./linters/run.sh

test: $(TARGET)
	./btests/custom_tests/custom_run.sh

clean:
	rm -rf $(TARGET)
